digraph architecture {
  label="Robot Sweatshop process interaction"
  labelloc="top"

  O [label="Overseer",shape=box]
  I [label="Input"]
  A [label="Assembler"]
  W [label="Worker"]
  subgraph cluster_services {
    label="Req/Rep Services"
    labelloc="bottom"
    style="dashed"
    C [label="Conveyor"]
    P [label="Payload Parser"]
    D [label="Job Dictionary"]
  }

  O->I
  I->C
  A->C [dir="both"]
  A->P [dir="both"]
  A->D [dir="both"]
  A->W [headlabel="1..*",labeldistance=2]
  W->C

  { rank=same; I W A }
}
